<!doctype html>
<html lang="en">
<head>
<title>Student Dashboard</title>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="title" content="Dashboard, Student View">
	<meta name="description" content="Dashboard view for students.">
	<!-- Bootstrap CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
	<link href="dashboard.css" rel="stylesheet">
	<!--Other-->
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
	<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <style>

    ul, .sidebar .nav-link, .sidebar .nav-link.active {
        color: #fff;
    }

    .lsbu-header{
  background-color: #aaa6cc;
  color: #efefef;
  padding: 5%;
}

.active,.list-group-item-action:hover{
    background-color: #aaa6cc;
}


#disabilityDiv{
  margin-left: -1%
}


</style>
</head>

<body>
        <h4>Family Hub Case Database</h4>
    <!-- CASE VIEW -->
								<div class="col">
									<%
									 var list = '';

									 if (documents.length == 0){
									 	list += 'Case not found.'
									} else {

										for (i = 0; i < documents.length; i++) {

											if (documents[i].adviceType == undefined){
											 documents[i].adviceType = "N/A";
										 }

											if (documents[i].urgentEnquiry == undefined){
												documents[i].urgentEnquiry = "N/A";
											}
											if (documents[i].discoverySelect == undefined){
												documents[i].discoverySelect = "N/A";
											}
											if (documents[i].emailInFeature == undefined){
												documents[i].emailInFeature = "N/A";
											}
											if (documents[i].disability == undefined){
												documents[i].disability = "N/A";
											}
											if (documents[i].finAbuse == undefined){
												documents[i].finAbuse = "N/A";
											}
											if (documents[i].verAbuse == undefined){
												documents[i].verAbuse = "N/A";
											}
											if (documents[i].physAbuse == undefined){
												documents[i].physAbuse = "N/A";
											}
											if (documents[i].childCount == undefined){
												documents[i].childCount = "N/A";
											}
											if (documents[i].specialNeeds == undefined){
												documents[i].specialNeeds = "N/A";
											}
											if (documents[i].childAbuse == undefined){
												documents[i].childAbuse = "N/A";
											}


											list += '<h5>Case Details</h5><p><p><b>What type of advice is needed:</b> ' + documents[i].adviceType + '</p>';
											list += '<p><b>Details:</b> ' + documents[i].otherDetail + '</p>';
											list +=  '<p><b>Is the enquiry urgent:</b> ' + documents[i].urgentEnquiry + '</p>';
											list +=  '<p><b>Deadline:</b> ' + documents[i].deadlineDate + '</p>';
											list +=  '<p><b>Tasks to be done before deadline:</b> ' + documents[i].deadlineTasks + '</p>';
											list +=  '<p><b>How did you discover us:</b> ' + documents[i].discoverySelect + '</p>';
											list +=  '<p><b>Email in future:</b> ' + documents[i].emailInFeature+ '</p>';
											list +=  '<p><h5>Personal Details</h5><p><b>Name:</b> ' + documents[i].name + '</p>';
											list +=  '<p><b>Age:</b> ' + documents[i].age + '</p>';
											list +=  '<p><b>Gender:</b> ' + documents[i].gender + '</p>';
											list +=  '<p><b>Ethnicity:</b> ' + documents[i].ethnicity + '</p>';
											list +=  '<p><b>Postcode Area:</b> ' + documents[i].postcode + '</p>';
											list +=  '<p><b>Language:</b> ' + documents[i].language + '</p>';
											list +=  '<p><b>Email:</b> ' + documents[i].email + '</p>';
											list +=  '<p><b>Telephone:</b> ' + documents[i].tel + '</p>';
											list +=  '<p><b>Disability:</b> ' + documents[i].disability + '</p>';
											list += '<p><h5>Details of the Other Party</h5><p><b>Name:</b>  ' + documents[i].otherName + '</p>';
											list +=  '<p><b>Age:</b> ' + documents[i].otherAge + '</p>';
											list +=  '<p><b>Gender:</b> ' + documents[i].otherGender + '</p>';
											list +=  '<p><b>Ethnicity:</b> ' + documents[i].otherEth + '</p>';
											list +=  '<p><b>Year in which Relationship Began:</b> ' + documents[i].relYear + '</p>';
											list +=  '<p><b>Year in which parties were married/entered civil partnership:</b> ' + documents[i].marrYear + '</p>';
											list +=  '<p><b>Year in which parties separated:</b> ' + documents[i].sepYear + '</p>';
											list +=  '<p><b>Is the other party financially controlling:</b> ' + documents[i].finAbuse + '</p>';
											list +=  '<p><b>Is the other party verbally abusive:</b> ' + documents[i].verAbuse + '</p>';
											list +=  '<p><b>Is the other party physically abusive:</b> ' + documents[i].physAbuse + '</p>';
											list += '<p><h5>Children</h5><p><b>Number of Children:</b>  ' + documents[i].childCount + '</p>';
											list += '<p><b>Special Needs:</b>  ' + documents[i].specialNeeds + '</p>';
											list += '<p><b>Are any of the children at risk of suffering immediate injury:</b>  ' + documents[i].childAbuse + '</p>';
											list += '<p><b>Further details:</b>  ' + documents[i].childAbuseDetail + '</p>';

										}

									}

								 %>
								 <%- list %>
									</div>

									<div class="col">
										<form method='post' action='/updateDetail'>
  								<label for="extraDetails" class="form-label"><h5>Extra Details</5></label>
  								<textarea class="form-control" id="extraDetails" name="extraDetails" rows="3"></textarea>
	 							<button type="submit" class="btn btn-primary">Submit</button>
										</form>
										<div>
											<%
											var extraDetails = '';
											for (i = 0; i < documents.length; i++) {
												extraDetails += documents[i].extraDetails;
											}

											<%- extraDetails%>
										</div>
									</div>
	<!-- CASE VIEW ENDS HERE -->
  </main>
  </body>
  </html>
